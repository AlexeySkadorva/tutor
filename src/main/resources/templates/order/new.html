<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<head>
    <title>Оформление заказа</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <meta name="description" content=""/>
    <meta name="author" content=""/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
    <link href="favicon.ico" rel="shortcut icon"/>
    <link th:href="@{/css/bootstrap.css}" rel="stylesheet"/>
    <link th:href="@{/css/animate.css}" rel="stylesheet"/>
    <link th:href="@{/css/font-awesome.css}" rel="stylesheet"/>
    <link th:href="@{/css/nexus.css}" rel="stylesheet"/>
    <link th:href="@{/css/responsive.css}" rel="stylesheet"/>
    <link th:href="@{/css/custom.css}" rel="stylesheet"/>
    <link href="http://fonts.googleapis.com/css?family=Roboto+Condensed:400,300"/>
</head>
<body>
<div id="body-bg">

    <div th:replace="fragments/header :: header"></div>

    <div th:replace="fragments/menu :: menu('tutors')"></div>

    <div class="container">
        <div class="container background-white">
            <div class="row margin-vert-30">
                <h2>Заказ</h2>
                <p>Пожалуйста опишите что Вы хотите от занятий, как часто Вы хотели бы их проводить и в какое время,
                    какой цели Вы хотите достичь по итогам занятий. Сообщение будет отправлено репетитору и при его
                    согласии
                    он с вами свяжется в максимально короткое время.</p>
                <form th:object="${order}" th:action="@{'/orders'}" method="POST">

                    <div class="row margin-bottom-20">
                        <div class="col-md-8 col-md-offset-0">
                            <textarea rows="8" class="form-control" th:field="*{message}"></textarea>
                        </div>
                    </div>

                    <div data-bind="foreach : $root.orderDtos()" class="row margin-bottom-20">
                        <p data-bind="text : $root.orderDtos()[$index()].subject.name"></p>
                        <div data-bind="foreach : $root.orderDtos()[$index()].tutorSubjectDurations" class="col-md-8 col-md-offset-0">
                            <input type="checkbox" data-bind="click: function() { $root.selectDuration($parentContext.$index(), $index())}"/>
                            <p data-bind="text : $root.orderDtos()[$parentContext.$index()].tutorSubjectDurations[$index()].duration.code.name"></p>
                            <p data-bind="text : $root.orderDtos()[$parentContext.$index()].tutorSubjectDurations[$index()].price"></p>
                        </div>
                        <select id="dialysisSelect" data-bind="event: {change: function(){$root.addPeriodicity($root.orderDtos()[$index()].subject.id, $data.item)}},
                        options: $root.periodicities, optionsCaption: '&nbsp;', selectize: {'allowEmptyOption': true}">
                        </select>
                    </div>

                    <!--<label>Количество занятий в месяц (Если вы хотите заниматься 1 ра в неделю, то 4, если 2, то 8 и-->
                    <!--т.д.)-->
                    <!--<span class="color-red">*</span>-->
                    <!--</label>-->
                    <!--<input rows="8" class="form-control" th:field="*{pereodicity}"/>-->


                    <!--<label>Тип занятия-->
                    <!--<span class="color-red">*</span>-->
                    <!--</label>-->
                    <!--<select id="roles" class="form-control margin-bottom-20" th:field="*{lessonType}">-->
                    <!--<option value=""></option>-->
                    <!--<option th:each="l : ${lessonTypes}" th:value="${l.id}" th:text="${l.name}"/>-->
                    <!--</select>-->

                    <input type="hidden" th:field="*{client}"/>
                    <input type="hidden" th:field="*{tutor}"/>
                    <input type="hidden" th:field="*{orderStatus}"/>

                    <div class="row">
                        <button type="submit" class="btn btn-primary">Отправить</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div th:replace="fragments/footer :: contacts"></div>

    <div th:replace="fragments/footer :: footer"></div>
</div>
<script th:src="@{/js/jquery/jquery.min.js}"/>
<script th:src="@{/js/jquery/jquery-ui.min.js}"/>
<script th:src="@{/js/thirdparty/moment.min.js}"/>
<script th:src="@{/js/bootstrap/bootstrap.min.js}"/>
<script th:src="@{/js/thirdparty/scripts.js}"/>
<script th:src="@{/js/jquery/jquery.isotope.js}"/>
<script th:src="@{/js/jquery/jquery.slicknav.js}"/>
<script th:src="@{/js/jquery/jquery.visible.js}"/>
<script th:src="@{/js/jquery/jquery.sticky.js}"/>
<script th:src="@{/js/thirdparty/slimbox2.js}"/>
<script th:src="@{/js/thirdparty/modernizr.custom.js}"/>

<script th:src="@{/js/jquery/jquery.inputmask.bundle.min.js}"/>
<script th:src="@{/js/knockout/knockout.js}"/>
<script th:src="@{/js/knockout/knockout.inputmask.js}"/>
<script th:src="@{/js/knockout/validation/knockout-validation-min.js}"/>
<script th:src="@{/js/thirdparty/datepicker-ru.js}"/>
<script th:src="@{/js/order.js}"/>
<script th:src="@{/js/knockout.validation.rules.js}"/>
<script th:src="@{/js/knockout/knockout.datepicker.js}"/>
<script th:inline="javascript">
    $(function () {
        ko.applyBindings(new User([[${order}]], [[${orderDtos}]]));
    });
</script>
</body>
</html>